!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t=t.L||(t.L={}),t=t.Control||(t.Control={}),t.Select=e()}}(function(){return function e(t,o,i){function n(a,s){if(!o[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=o[a]={exports:{}};t[a][0].call(f.exports,function(e){var o=t[a][1][e];return n(o?o:e)},f,f.exports,e,t,o,i)}return o[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(e,t,o){"use strict";function i(e,t){var o=t({},e);return delete o["default"],o}function n(e,t){for(var o=Object.getOwnPropertyNames(t),i=0;i<o.length;i++){var n=o[i],r=Object.getOwnPropertyDescriptor(t,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}Object.defineProperty(o,"__esModule",{value:!0});var r=e("./src/Map.SelectArea");n(o,i(r,n))},{"./src/Map.SelectArea":2}],2:[function(e,t,o){(function(i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(o,"__esModule",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),s=function(e,t,o){for(var i=!0;i;){var n=e,r=t,a=o;s=u=l=void 0,i=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,r);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;e=u,t=r,o=a,i=!0}},l=i.L||e("leaflet"),u=function(e){function t(e,o,i,r){void 0===o&&(o=!1),n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.shiftKey=o,this._validate=null,this._moved=!1,this._autoDisable=!1,this._lastLayerPoint=null,this.setValidate(i),this.setAutoDisable(r)}return r(t,e),a(t,null,[{key:"AREA_SELECTED",get:function(){return"areaselected"}},{key:"AREA_SELECTION_TOGGLED",get:function(){return"areaselecttoggled"}}]),a(t,[{key:"setValidate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?function(e){return!0}:arguments[0],t=this;return this._validate=function(o){return e.call(t,o)},this}},{key:"setAutoDisable",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];this._autoDisable=e}},{key:"enable",value:function(e,o){this.shiftKey?this._map.boxZoom&&this._map.boxZoom.disable():this._map.dragging.disable(),s(Object.getPrototypeOf(t.prototype),"enable",this).call(this),this._beforeCrosshair=this._container.style.cursor,this._container.style.cursor="crosshair",e&&this.setValidate(e),this.setAutoDisable(o),this._map.fire(l.Map.SelectArea.AREA_SELECTION_TOGGLED)}},{key:"addHooks",value:function(){s(Object.getPrototypeOf(t.prototype),"addHooks",this).call(this),l.DomEvent.on(document,"keyup",this._onKeyUp,this)}},{key:"removeHooks",value:function(){s(Object.getPrototypeOf(t.prototype),"removeHooks",this).call(this),l.DomEvent.off(document,"keyup",this._onKeyUp,this)}},{key:"disable",value:function(){s(Object.getPrototypeOf(t.prototype),"disable",this).call(this,this),this._container.style.cursor=this._beforeCrosshair,this.shiftKey?this._map.boxZoom&&this._map.boxZoom.enable():this._map.dragging.enable(),this._map.fire(l.Map.SelectArea.AREA_SELECTION_TOGGLED)}},{key:"_onMouseDown",value:function(e){if(this._moved=!1,this._lastLayerPoint=null,this.shiftKey&&!e.shiftKey||1!==e.which&&1!==e.button)return!1;var t=this._map.mouseEventToLayerPoint(e);return this._validate(t)?(l.DomUtil.disableTextSelection(),l.DomUtil.disableImageDrag(),this._startLayerPoint=t,void l.DomEvent.on(document,"mousemove",this._onMouseMove,this).on(document,"mouseup",this._onMouseUp,this).on(document,"keydown",this._onKeyDown,this)):!1}},{key:"_onMouseMove",value:function(e){this._moved||(this._box=l.DomUtil.create("div","leaflet-zoom-box",this._pane),l.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair");var t=this._startLayerPoint,o=this._box,i=this._map.mouseEventToLayerPoint(e),n=i.subtract(t);if(this._validate(i)){this._lastLayerPoint=i;var r=new l.Point(Math.min(i.x,t.x),Math.min(i.y,t.y));l.DomUtil.setPosition(o,r),this._moved=!0,o.style.width=Math.max(0,Math.abs(n.x)-4)+"px",o.style.height=Math.max(0,Math.abs(n.y)-4)+"px"}}},{key:"_onKeyUp",value:function(e){27===e.keyCode&&(this._moved&&this._finish(),this.disable())}},{key:"_onMouseUp",value:function(e){this._finish();var t=this._map,o=this._lastLayerPoint;if(!this._startLayerPoint.equals(o)){l.DomEvent.stop(e);var i=new l.LatLngBounds(t.layerPointToLatLng(this._startLayerPoint),t.layerPointToLatLng(o));t.fire(l.Map.SelectArea.AREA_SELECTED,{bounds:i}),this._autoDisable&&this.disable(),this._moved=!1}}}]),t}(l.Map.BoxZoom);o["default"]=u,l.Map.mergeOptions({selectArea:!1}),l.Map.addInitHook("addHandler","selectArea",u),l.Map.SelectArea=u,t.exports=o["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{leaflet:void 0}]},{},[1])(1)});
