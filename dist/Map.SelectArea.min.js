!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t=t.L||(t.L={}),t=t.Control||(t.Control={}),t.Select=e()}}(function(){return function e(t,o,n){function i(a,s){if(!o[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=o[a]={exports:{}};t[a][0].call(f.exports,function(e){var o=t[a][1][e];return i(o?o:e)},f,f.exports,e,t,o,n)}return o[a].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,o){"use strict";function n(e,t){var o=t({},e);return delete o["default"],o}function i(e,t){for(var o=Object.getOwnPropertyNames(t),n=0;n<o.length;n++){var i=o[n],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}return e}Object.defineProperty(o,"__esModule",{value:!0});var r=e("./src/Map.SelectArea");i(o,n(r,i))},{"./src/Map.SelectArea":2}],2:[function(e,t,o){(function(n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(o,"__esModule",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=function(e,t,o){for(var n=!0;n;){var i=e,r=t,a=o;s=l=u=void 0,n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,r);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;e=l,t=r,o=a,n=!0}},u=n.L||e("leaflet"),l=function(e){function t(e,o,n,r){void 0===o&&(o=!1),i(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.shiftKey=o,this._moved=!1,this.setValidate(n),this.setAutoDisable(r)}return r(t,e),a(t,null,[{key:"AREA_SELECTED",get:function(){return"areaselected"}},{key:"AREA_SELECTION_TOGGLED",get:function(){return"areaselecttoggled"}}]),a(t,[{key:"setValidate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?function(e){return!0}:arguments[0],t=this;return this._validate=function(o){return e.call(t,o)},this}},{key:"setAutoDisable",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];this.autoDisable=e}},{key:"enable",value:function(e,o){this.shiftKey?this._map.boxZoom&&this._map.boxZoom.disable():this._map.dragging.disable(),s(Object.getPrototypeOf(t.prototype),"enable",this).call(this),this._beforeCrosshair=this._container.style.cursor,this._container.style.cursor="crosshair",u.DomEvent.on(document,"keydown",this._onKeyUp,this),this._map.fire(u.Map.SelectArea.AREA_SELECTION_TOGGLED)}},{key:"disable",value:function(){s(Object.getPrototypeOf(t.prototype),"disable",this).call(this,this),this._container.style.cursor=this._beforeCrosshair,this.shiftKey?this._map.boxZoom&&this._map.boxZoom.enable():this._map.dragging.enable(),u.DomEvent.on(document,"keydown",this._onKeyUp,this),this._map.fire(u.Map.SelectArea.AREA_SELECTION_TOGGLED)}},{key:"_onMouseDown",value:function(e){if(this._moved=!1,this.shiftKey&&!e.shiftKey||1!==e.which&&1!==e.button)return!1;var t=this._map.mouseEventToLayerPoint(e);return this._validate(t)?(u.DomUtil.disableTextSelection(),u.DomUtil.disableImageDrag(),this._startLayerPoint=t,void u.DomEvent.on(document,"mousemove",this._onMouseMove,this).on(document,"mouseup",this._onMouseUp,this).on(document,"keydown",this._onKeyDown,this)):!1}},{key:"_onMouseMove",value:function(e){this._moved||(this._box=u.DomUtil.create("div","leaflet-zoom-box",this._pane),u.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair");var t=this._startLayerPoint,o=this._box,n=this._map.mouseEventToLayerPoint(e),i=n.subtract(t);if(this._validate(n)){var r=new u.Point(Math.min(n.x,t.x),Math.min(n.y,t.y));u.DomUtil.setPosition(o,r),this._moved=!0,o.style.width=Math.max(0,Math.abs(i.x)-4)+"px",o.style.height=Math.max(0,Math.abs(i.y)-4)+"px"}}},{key:"_onKeyUp",value:function(e){27===e.keyCode&&(this._moved&&this._finish(),this.disable())}},{key:"_onMouseUp",value:function(e){this._finish();var t=this._map,o=t.mouseEventToLayerPoint(e);if(!this._startLayerPoint.equals(o)){u.DomEvent.stop(e);var n=new u.LatLngBounds(t.layerPointToLatLng(this._startLayerPoint),t.layerPointToLatLng(o));t.fire(u.Map.SelectArea.AREA_SELECTED,{bounds:n}),this.autoDisable&&this.disable(),this._moved=!1}}}]),t}(u.Map.BoxZoom);o["default"]=l,u.Map.mergeOptions({selectArea:!1}),u.Map.addInitHook("addHandler","selectArea",l),u.Map.SelectArea=l,t.exports=o["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{leaflet:void 0}]},{},[1])(1)});
